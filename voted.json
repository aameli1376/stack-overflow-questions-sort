{"backoff": 0, "has_more": true, "page": 5, "quota_max": 300, "quota_remaining": 300, "total": 0, "items": [{"tags": ["android", "kotlin", "textutils"], "owner": {"reputation": 355, "user_id": 2897683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c27b9e59f49407f3c4e252df453d13b?s=128&d=identicon&r=PG&f=1", "display_name": "thahgr", "link": "https://stackoverflow.com/users/2897683/thahgr"}, "is_answered": true, "view_count": 74, "accepted_answer_id": 59321544, "answer_count": 7, "score": 3, "last_activity_date": 1576244939, "creation_date": 1576235519, "question_id": 59321405, "link": "https://stackoverflow.com/questions/59321405/kotlin-isnullorempty-vs-textutils-isempty", "title": "Kotlin: isNullOrEmpty vs TextUtils.isEmpty", "body": "<p>In Kotlin (Android project), which is preferable to use ? </p>\n\n<p><code>isNullOrEmpty</code> or <code>TextUtils.isEmpty</code> and why</p>\n\n<p>I believe they do the exact thing and are \"null\" safe, right ?</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "java-8", "java-stream"], "owner": {"reputation": 457, "user_id": 6310948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d0VKq.jpg?s=128&g=1", "display_name": "Erjon", "link": "https://stackoverflow.com/users/6310948/erjon"}, "is_answered": true, "view_count": 54, "accepted_answer_id": 59331473, "answer_count": 1, "score": 3, "last_activity_date": 1576285747, "creation_date": 1576279104, "last_edit_date": 1576285747, "question_id": 59330943, "link": "https://stackoverflow.com/questions/59330943/group-items-in-a-list-and-sum-all-other-fields-android-show-the-result-in-recyc", "title": "Group items in a List and sum all other fields Android, Show the result in recyclerview", "body": "<p>I have a Firebase database which has this structure</p>\n\n<pre><code>{\n  \"foo\" : {\n    \"data\" : {\n      \"2019-12-01\" : [ {\n        \"item1\" : 8,\n        \"item2\" : 16,\n        \"name\" : \"user1\"\n      }, {\n        \"item1\" : 9,\n        \"item2\" : 18,\n        \"name\" : \"user2\"\n      } ],\n      \"2019-12-02\" : [ {\n        \"item1\" : 2,\n        \"item2\" : 26,\n        \"name\" : \"user1\"\n      }, {\n        \"item1\" : 6,\n        \"item2\" : 6,\n        \"name\" : \"user2\"\n      } ]\n    }\n  }\n}\n</code></pre>\n\n<p>I'm filling a <code>recyclerviewer</code> in the main activity in a very simple way:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n\n    private RecyclerView.LayoutManager layoutManager;\n    private Adapter adapter;\n\n    final List&lt;Model&gt; tempList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        recyclerView = findViewById(R.id.simpleRecycler);\n\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setHasFixedSize(true);\n\n        Query statsRef = FirebaseDatabase.getInstance()\n                .getReference(\"foo\")\n                .child(\"data\")\n                .orderByKey()\n                .startAt(\"2019-12-01\")\n                .endAt(\"2019-12-02\");\n\n        // Read from the database\n        statsRef.addValueEventListener(new ValueEventListener() {\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                for (DataSnapshot itemSnapshot : dataSnapshot.getChildren()){\n                    for (int i = 0; i &lt; 2; i++) {\n                        Model model = itemSnapshot.child(String.valueOf(i)).getValue(Model.class);\n                        tempList.add(model);\n                    }\n                }\n\n                adapter = new Adapter(tempList);\n                recyclerView.setAdapter(adapter);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>And the adapter is:</p>\n\n<pre><code>public class Adapter extends RecyclerView.Adapter {\n\n    List&lt;Model&gt; models;\n\n    public Adapter(List&lt;Model&gt; models) {\n        this.models = models;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.simple_row, parent, false);\n\n        return new ViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        ViewHolder vh = (ViewHolder)holder;\n\n        vh.name.setText(models.get(position).getName());\n        vh.item1.setText(String.valueOf(models.get(position).getItem1()));\n        vh.item2.setText(String.valueOf(models.get(position).getItem2()));\n    }\n\n    @Override\n    public int getItemCount() {\n        return models.size();\n    }\n}\n</code></pre>\n\n<p>The result is a table like this:</p>\n\n<pre><code>+-------+---+----+\n| user1 | 8 | 16 |\n+-------+---+----+\n| user2 | 9 | 18 |\n+-------+---+----+\n| user1 | 2 | 26 |\n+-------+---+----+\n| user2 | 6 |  6 |\n+-------+---+----+\n</code></pre>\n\n<p>The problem is that I want to group the list by the name and then sum all the other relative fields like below</p>\n\n<pre><code>+-------+----+----+\n| user1 | 10 | 42 |\n+-------+----+----+\n| user2 | 15 | 24 |\n+-------+----+----+\n</code></pre>\n\n<p>I have tried with no success:</p>\n\n<pre><code>tempList.stream().collect(Collectors.groupingBy(Model::getName))\n                    .entrySet().stream()\n                    .collect(Collectors.toMap(x -&gt; {\n                        int item1 = x.getValue().stream().mapToInt(Model::getItem1).sum();\n                        int item2 = x.getValue().stream().mapToInt(Model::getItem2).sum();\n\n                        return new Model(x.getKey(), item1, item2);\n\n                    }, Map.Entry::getValue));\n</code></pre>\n\n<p>I've added the above code above before setting the adapter to the recyclerviewer.</p>\n\n<p>Any help, please?</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-inline-class"], "owner": {"reputation": 695, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "is_answered": true, "view_count": 57, "accepted_answer_id": 59369359, "answer_count": 1, "score": 3, "last_activity_date": 1576567387, "creation_date": 1576543101, "last_edit_date": 1576551415, "question_id": 59366109, "link": "https://stackoverflow.com/questions/59366109/kotlin-inline-class-that-implements-interface-under-the-hood", "title": "Kotlin inline class that implements interface under the hood", "body": "<p>In kotlin vesion 1.3.0 inline classes were made available for developers.</p>\n\n<p>\"Normal\" inline classes are promised not to be a real objects at runtime but exist only at compile time for type checking.</p>\n\n<p>So for instance </p>\n\n<pre><code>inline class MyWrapper(val someString: String)\n\nfun consumeMyWrapper(myWrapper: MyWrapper)\n</code></pre>\n\n<p>should be compiled to java equivalent of the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void consumeMyWrapper~blabla(String myWrapper) \n</code></pre>\n\n<p>However this also works:</p>\n\n<pre><code>interface A {\n\n    fun doJob(b: B)\n}\n\ninline class C(val self: D): A {\n\n    override fun doJob(b: B)\n}\n</code></pre>\n\n<p>So I'm wondering how exactly does this compile. I don't know <code>bytecode</code> so I'm asking for general principle. </p>\n\n<p>However if such an object which should implement certain interface does not exist at runtime, then somebody else must implement the interface. Will it be the receiver of an inline class? What will happen if the receiver happened to be of unmodifiable type (from other already compiled lib for instance)? </p>\n\n<p>Reasons why I have these concerns have to do with a problem I stumbled upon recently. I needed a cleaner way to communicate <code>Fragment</code> with <code>Activity</code> on a massive project. The old way was just saying <code>activity as? MainActivity</code> which is not \"very clean\". So I defined this interface:</p>\n\n<pre><code>interface ActivityDelegate {\n\n    val view: View\n\n    val routing: Routing\n\n    interface View {\n       // All common view related stuff\n    }\n\n    interface Routing {\n       // BottomNavigtion related stuff\n    }\n}\n</code></pre>\n\n<p>And implemented it as follows:</p>\n\n<pre><code>class MainActivity : Activity(), ActivityDelegate {\n\n    override val view by lazy { MainActivityView(this) }\n\n    override val routing by lazy { MainActivityRouting(this) }\n}\n\ninternal inline class MainActivityView(val self: MainActivity): ActivityDelegate.View \n\ninternal inline class MainActivityRouting(val self: MainActivity): ActivityDelegate.Routing\n</code></pre>\n\n<p>I used this approach with inline classes to move some logic out from MainActivity and delegate responsibilities.</p>\n\n<p>So my concerns are whether or not this is appropriate to have inline class here. Does it make a difference when used in this particular scenario?</p>\n"}, {"tags": ["android", "performance", "unit-testing", "junit", "mockito"], "owner": {"reputation": 224, "user_id": 5166080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9884d7fcd080ee600858ea843e51b36f?s=128&d=identicon&r=PG&f=1", "display_name": "ricardo silva", "link": "https://stackoverflow.com/users/5166080/ricardo-silva"}, "is_answered": false, "view_count": 45, "answer_count": 0, "score": 3, "last_activity_date": 1576668277, "creation_date": 1576668277, "question_id": 59390997, "link": "https://stackoverflow.com/questions/59390997/why-do-i-see-a-performance-boost-when-creating-mockito-mocks-inline", "title": "Why do I see a performance boost when creating mockito mocks inline?", "body": "<p>When using mockito 2, I see a huge performance boost when instantiating mocks inline vs using @Mock annotations or instantiating them in the setup method. This is super confusing to me because nowhere in the documentation is discouraged to instantiate mocks inline, despite the apparent performance boost.</p>\n\n<p>I created a new project with a very simple test:</p>\n\n<pre><code>    private val mockBanana: Banana\n\n    private lateinit var cut: Person\n\n    @Before\n    fun setup(){\n        cut = Person()\n    }\n\n    @Test\n    fun check(){\n        cut.banana = mockBanana\n\n        cut.eat()\n\n        verify(mockBanana).grow()\n        verify(mockBanana).harvest()\n        verify(mockBanana).peelOff()\n        verify(mockBanana).eat()\n\n    }\n</code></pre>\n\n<p>Then, I just changed the way the mock is created.</p>\n\n<p>Slow method: call mock in setup. Takes 400ms</p>\n\n<pre><code>    @Before\n    fun setup(){\n        mockBanana = mock(Banana::class.java)\n        cut = Person()\n    }\n</code></pre>\n\n<p>Slow method: mock annotation. Takes 430ms</p>\n\n<pre><code>    @Mock\n    private lateinit var mockBanana: Banana\n</code></pre>\n\n<p>Fast method: calling mock inline. Takes 25ms</p>\n\n<pre><code>    private val mockBanana: Banana = mock(Banana::class.java)\n</code></pre>\n\n<p>Initially I thought the performance boost was caused by the mocks only being created once per class and then shared between all tests, which would be a deal breaker. However, further testing showed without a doubt that that wasn't the cause (I used breakpoints and logs in the mockito code and the mocks were created multiple times. Also, the mock reference is always different between tests). </p>\n\n<p>Before I start the huge endeavour it would be to refactor all the tests in my project, I'd like to understand the performance boost a little bit better to ensure nothing will break in the future.</p>\n"}, {"tags": ["android", "android-constraintlayout"], "owner": {"reputation": 33, "user_id": 11803643, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_qlD4eIwi3w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcN6filCtDM-mmz7Nf_PPUmlzzqeg/photo.jpg?sz=128", "display_name": "Raffaele Aramo", "link": "https://stackoverflow.com/users/11803643/raffaele-aramo"}, "is_answered": true, "view_count": 58, "accepted_answer_id": 59397114, "answer_count": 1, "score": 3, "last_activity_date": 1576689345, "creation_date": 1576494280, "last_edit_date": 1576675939, "question_id": 59355357, "link": "https://stackoverflow.com/questions/59355357/android-programmatically-add-imageview-with-constraintlayout", "title": "Android programmatically add ImageView with ConstraintLayout", "body": "<p>I want to programmatically insert several ImageView into a RecyclerView using ConstraintLayout.</p>\n\n<p>To insert images in an equidistant way using Horizontal Bias, the value for each image is calculated as:</p>\n\n<pre><code>float biasedValue = (1f / (flightPlanWeather.weather.size () + 1f)) * (i + 1f);\n</code></pre>\n\n<p>The code is as follows</p>\n\n<pre><code>public class FlightPlanWeatherRecyclerAdapter extends RecyclerView.Adapter&lt;FlightPlanWeatherRecyclerAdapter.MyViewHolder&gt; {\n    private static final String TAG = FlightPlanWeatherRecyclerAdapter.class.getName();\n    private List&lt;FlightPlanWeather&gt; dataSet;\n    private LayoutInflater mInflater;\n    Context mContext;\n\n\n    // Provide a suitable constructor (depends on the kind of dataset)\n    // data is passed into the constructor\n    public FlightPlanWeatherRecyclerAdapter(Context context, List&lt;FlightPlanWeather&gt; data) {\n        this.mInflater = LayoutInflater.from(context);\n        this.dataSet = data;\n        this.mContext = context;\n    }\n\n    // inflates the row layout from xml when needed\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = mInflater.inflate(R.layout.row_item_flightplan_weather, parent, false);\n        return new MyViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n        holder.bind(dataSet.get(position));\n        FlightPlanWeather flightPlanWeather = dataSet.get(position);\n\n        holder.from_img.setImageResource(flightPlanWeather.from.getImg_resource());\n        holder.from_label.setText(flightPlanWeather.from.getLabel());\n\n        holder.to_img.setImageResource(flightPlanWeather.to.getImg_resource());\n        holder.to_label.setText(flightPlanWeather.to.getLabel());\n\n\n        int dimensionInPixel = 256;\n\n        ConstraintLayout.LayoutParams lp =\n                new ConstraintLayout.LayoutParams(/*ConstraintLayout.LayoutParams.WRAP_CONTENT,*/ dimensionInPixel,\n                        /*ConstraintLayout.LayoutParams.WRAP_CONTENT*/ dimensionInPixel);\n\n\n\n        //weather\n        for(int i=0; i&lt;flightPlanWeather.weather.size(); i++ ){\n            ConstraintSet constraintSet = new ConstraintSet();\n\n            holder.mConstraintSetList.add(constraintSet);\n            ImageView imageView = new ImageView(mContext);\n            imageView.setId(View.generateViewId());\n            imageView.setImageResource(flightPlanWeather.weather.get( i ));\n            imageView.setLayoutParams(lp);\n            imageView.requestLayout();\n            holder.weather.add(imageView);\n            holder.mConstraintLayout.addView( imageView/*, lp */);\n\n            //}\n            constraintSet.clone(holder.mConstraintLayout);\n\n            float biasedValue = (1f/ (flightPlanWeather.weather.size()+1f)) * (i+1f);\n            Log.d(TAG, Float.toString( biasedValue ) +\"i:\"+ Integer.toString( i )+\"size:\"+ flightPlanWeather.weather.size());\n            constraintSet.setHorizontalBias(imageView.getId(), biasedValue);\n            constraintSet.connect(imageView.getId(), ConstraintSet.START, holder.mConstraintLayout.getId(), ConstraintSet.START, 0);\n            constraintSet.connect(imageView.getId(), ConstraintSet.END, holder.mConstraintLayout.getId(), ConstraintSet.END, 0);\n            constraintSet.connect(imageView.getId(), ConstraintSet.TOP, holder.mConstraintLayout.getId(), ConstraintSet.TOP, 0);\n            constraintSet.connect(imageView.getId(), ConstraintSet.BOTTOM, holder.mConstraintLayout.getId(), ConstraintSet.BOTTOM, 0);\n            constraintSet.applyTo(holder.mConstraintLayout);\n            holder.mConstraintLayout.requestLayout();\n        }\n\n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        return dataSet == null ? 0 : dataSet.size();\n    }\n\n\n    // Provide a reference to the views for each data item\n    // Complex data items may need more than one view per item, and\n    // you provide access to all the views for a data item in a view holder\n    // Static inner class to initialize the views of rows\n    static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n\n        TextView from_label;\n        TextView to_label;\n        ImageView from_img;\n        ImageView to_img;\n        ImageView line;\n        ConstraintLayout mConstraintLayout;\n\n        List&lt;ConstraintSet&gt; mConstraintSetList = new ArrayList&lt;&gt;(  );\n        List&lt;ImageView&gt; weather = new ArrayList&lt;&gt;(  );\n\n        public MyViewHolder(View itemView) {\n            super(itemView);\n            itemView.setOnClickListener(this);\n\n            mConstraintLayout  = (ConstraintLayout) itemView.findViewById(R.id.mainConstraintLayout);\n            from_label = (TextView) itemView.findViewById(R.id.from_label);\n            to_label = (TextView) itemView.findViewById(R.id.to_label);\n            from_img = (ImageView) itemView.findViewById(R.id.from_img);\n            to_img = (ImageView) itemView.findViewById(R.id.to_img);\n            line = (ImageView) itemView.findViewById(R.id.line);\n\n\n\n        }\n\n        public void bind(Object object){\n\n\n        }\n\n        @Override\n        public void onClick(View view) {\n            Log.d(\"onclick\", \"onClick \" + getLayoutPosition() + \" \" /*+ /*item.getText()*/);\n        }\n    }\n\n}\n</code></pre>\n\n<p>The problem is that the Horizontal Bias of the weather does not work properly\n<a href=\"https://i.stack.imgur.com/RDi0K.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n\n<p>The View should come this way:\n<a href=\"https://i.stack.imgur.com/dglfG.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"}, {"tags": ["c#", "android", "unity3d", "google-play-services", "google-play-games"], "owner": {"reputation": 31, "user_id": 12535122, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-l2depxmDYrg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rduQK6T3QQqcS5kpYjKv4dOfAvV8Q/photo.jpg?sz=128", "display_name": "Dragon Auro", "link": "https://stackoverflow.com/users/12535122/dragon-auro"}, "is_answered": false, "view_count": 48, "answer_count": 1, "score": 3, "last_activity_date": 1576490454, "creation_date": 1576301542, "question_id": 59332578, "link": "https://stackoverflow.com/questions/59332578/java-lang-illegalargumentexception-upsert-affected-multiple-rows", "title": "java.lang.IllegalArgumentException: Upsert affected multiple rows", "body": "<p>When i try to login into game play services inside my app in android with specific email ID in my phone, i'm getting the following error. But same ID is working in other devices within my app. </p>\n\n<p>E/AndroidRuntime: FATAL EXCEPTION: lowpool[1]</p>\n\n<p>Process: com.google.android.gms, PID: 21525</p>\n\n<pre><code>java.lang.IllegalArgumentException: Upsert affected multiple rows\n    at bzx.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):25)\n    at bzx.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):19)\n    at com.google.android.gms.games.provider.PlayGamesContentProvider.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):538)\n    at bzx.insert(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):4)\n    at qus.insert(:com.google.android.gms@19831028@19.8.31 (100400-284611645):4)\n    at android.content.ContentProviderOperation.apply(ContentProviderOperation.java:297)\n    at bzx.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):14)\n    at bzx.applyBatch(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):3)\n    at dvk.applyBatch(:com.google.android.gms@19831028@19.8.31 (100400-284611645):3)\n    at android.content.ContentProvider$Transport.applyBatch(ContentProvider.java:344)\n    at android.content.ContentProviderClient.applyBatch(ContentProviderClient.java:474)\n    at android.content.ContentResolver.applyBatch(ContentResolver.java:1705)\n    at cxs.b(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):29)\n    at czv.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):279)\n    at czv.b(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):22)\n    at cxy.c(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):2)\n    at dzo.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):7)\n    at dzr.a(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):4)\n    at bkv.run(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):1)\n    at cdz.b(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):15)\n    at cdz.run(:com.google.android.play.games.services@144480040@2019.11.14448 (284081242.284081242-000400):10)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at tfn.run(Unknown Source:7)\n    at java.lang.Thread.run(Thread.java:764)\n    Suppressed: gmi: \n    at tk_trace.games-PlayGamesSignInIntentService_onStartCommand(Unknown Source:0)\n</code></pre>\n"}, {"tags": ["android", "ios", "react-native", "rotation", "signature"], "owner": {"reputation": 91, "user_id": 10628743, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sahitya D", "link": "https://stackoverflow.com/users/10628743/sahitya-d"}, "is_answered": false, "view_count": 62, "answer_count": 0, "score": 3, "last_activity_date": 1576734333, "creation_date": 1576217541, "last_edit_date": 1576734333, "question_id": 59317067, "link": "https://stackoverflow.com/questions/59317067/issue-with-rotating-image-while-saving-in-react-native", "title": "Issue with Rotating Image while Saving in React Native", "body": "<p><strong>Actual Behaviour :</strong></p>\n\n<p>I am supposed to implement signature pad in <strong>landscape-right mode</strong> along with a <strong>timestamp</strong> of signature drawn. Then take a screenshot of the view, and save it in <strong>document directory (iOS) or external directory (android)</strong> in <strong>portrait mode</strong> by rotating it. I was successful in implementing signature screen in <strong>landscape-right mode</strong> using <strong>tranform: [{rotate: '90deg\"}]</strong> css property, and <strong>react-native-signature-capture</strong>, save the captured screenshot of signature along with the <strong>timestamp</strong> of signature drawn in local directory using <strong>react-native-view-shot</strong> and convert it into <strong>base64 format</strong> using <strong>react-native-fs</strong>. But the saved screenshot is not in <strong>portrait mode</strong> and i'm trying to <strong>rotate</strong> the <strong>image</strong> while saving it in <strong>document directory (iOS) or external directory (android)</strong> without using any modules. I also tried <strong>rotating</strong> the image while saving it using <strong>canvas context API</strong> but could not find way to access canvas in react-native to rotate image while saving it as canvas is HTML DOM related.</p>\n\n<p><strong>Expected Behaviour :</strong></p>\n\n<p>I'm supposed to save the <em>signature drawn</em> along with <strong>timestamp</strong> in <strong>document directory (iOS) or external directory (android)</strong> in <strong>portrait mode</strong> as shown in below screenshot. Can someone help me please. Thanks in advance.</p>\n\n<p><strong>Additional Resources :</strong></p>\n\n<p>Code :</p>\n\n<pre><code>render() {\n  return (\n    &lt;View\n    style={{\n      flex: 1,\n      flexDirection: 'row',\n      overflow: \"hidden\",\n    }}&gt;\n    &lt;StatusBar hidden={true} /&gt;\n    &lt;View\n      style={{\n        flex: 0.8,\n        flexDirection: 'row-reverse',\n        marginVertical: width / 18,\n        overflow: \"hidden\",\n      }}&gt;\n      &lt;ViewShot\n        ref=\"viewShot\"\n        style={[styles.viewShot, { transform: [{ rotate: this.state.bool &amp;&amp; '90deg' }] }]}&gt;\n        {/* options={{ width: height, height: width }}&gt; */}\n        &lt;SignatureCapture\n          style={styles.signature}\n          ref={sign =&gt; (this.signComponent = sign)}\n          onSaveEvent={this._onSaveEvent}\n          onDragEvent={this._onDragEvent}\n          saveImageFileInExtStorage={true}\n          showNativeButtons={false}\n          showTitleLabel={false}\n          showBorder={false}\n          viewMode={'portrait'}\n          square={true}\n          backgroundColor={\"white\"}\n          maxSize={800}\n          rotateClockwise={!!true}\n        /&gt;\n        &lt;View\n          ref=\"timeRef\"\n          style={{\n            width: width / 10,\n            height: width / 3,\n            justifyContent: 'flex-end',\n            flexDirection: 'row-reverse',\n          }}&gt;\n          &lt;View\n            style={{\n              width: width / 1.8,\n              height: width / 1.8,\n              transform: [{ rotate: '-90deg' }],\n              overflow: \"hidden\",\n              paddingLeft: width / 18,\n              paddingTop: width / 25\n            }}&gt;\n            &lt;Text style={styles.time}&gt;{this.state.data}&lt;/Text&gt;\n          &lt;/View&gt;\n        &lt;/View&gt;\n      &lt;/ViewShot&gt;\n      &lt;Image\n        ref=\"imageRef\"\n        source={{ uri: this.state.imageUri }}\n        style={{ transform: [{ rotate: '90deg' }] }}\n      /&gt;\n    &lt;/View&gt;\n    &lt;View\n      style={{\n        flex: 0.2,\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        flexDirection: 'column',\n        overflow: \"hidden\",\n        backgroundColor: Colors.white,\n      }}&gt;\n      &lt;View\n        style={{\n          backgroundColor: Colors.darkGreen,\n          width: width / 2,\n          justifyContent: 'center',\n          alignItems: 'center',\n          paddingRight: width / 25,\n          paddingVertical: width / 37.5,\n          transform: [{ rotate: '-90deg' }],\n          overflow: \"hidden\",\n        }}&gt;\n        &lt;TouchableOpacity\n          hitSlop={{ top: 30, left: 50, right: 50, bottom: 30 }}\n          onPress={() =&gt; {\n            this.saveSign();\n          }}&gt;\n          &lt;Text style={{ fontSize: width / 18, color: Colors.white }}&gt;Submit &lt;/Text&gt;\n        &lt;/TouchableOpacity&gt;\n      &lt;/View&gt;\n      &lt;View\n        style={{\n          backgroundColor: '#5476ab',\n          width: width / 2,\n          justifyContent: 'center',\n          alignItems: 'center',\n          paddingVertical: width / 37.5,\n          transform: [{ rotate: '-90deg' }],\n          overflow: \"hidden\",\n        }}&gt;\n        &lt;TouchableOpacity\n          hitSlop={{ top: 30, left: 50, right: 50, bottom: 30 }}\n          onPress={() =&gt; {\n            this.resetSign();\n          }}&gt;\n          &lt;Text style={{ fontSize: width / 18, color: Colors.white }}&gt;Clear&lt;/Text&gt;\n        &lt;/TouchableOpacity&gt;\n      &lt;/View&gt;\n      &lt;View\n        style={{\n          backgroundColor: '#73c5de',\n          width: width / 2,\n          justifyContent: 'center',\n          alignItems: 'center',\n          paddingVertical: 10,\n          transform: [{ rotate: '-90deg' }],\n        }}&gt;\n        &lt;TouchableOpacity\n          hitSlop={{ top: 30, left: 50, right: 50, bottom: 30 }}\n          onPress={() =&gt; {\n            this.onCancel();\n          }}&gt;\n          &lt;Text style={{ fontSize: width / 18, color: Colors.white }}&gt;Cancel&lt;/Text&gt;\n        &lt;/TouchableOpacity&gt;\n      &lt;/View&gt;\n    &lt;/View&gt;\n  &lt;/View&gt;\n</code></pre>\n\n<p>);\n}</p>\n\n<p>_onSaveEvent(result) {</p>\n\n<pre><code>this.setState({ signature: result.pathName, \n                markResult: result.encoded });\n</code></pre>\n\n<p>}</p>\n\n<p>_onDragEvent() {</p>\n\n<pre><code>this.setState({ dragged: true });\n</code></pre>\n\n<p>}</p>\n\n<p>saveSign() {</p>\n\n<pre><code>if (this.state.dragged === true) {\n  this.setState({ bool: true });\n  this.refs.viewShot.capture().then(uri =&gt; {\n    this.setState({ imageUri: uri });\n    console.log(\"uri123\", uri);\n     RNFS.readFile(this.state.imageUri, \n      'base64').then(image =&gt; {\n      console.log(\"image123\", image);\n      this.setState({ sign: image }, () =&gt; {\n        this.ChangeOrientation();\n      });\n    });\n   });\n  } else {\n  Alert.alert('NALG', 'Please sign the signature \n  pad to submit');\n  }\n</code></pre>\n\n<p>ChangeOrientation() {</p>\n\n<pre><code>this.props.getSignature(this.state.sign);\nthis.props.setModalVisible(!this.props.modalVisible);\n</code></pre>\n\n<p>}</p>\n\n<p><em>Screenshot of Actual Behaviour :</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/gXAi6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gXAi6.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Screenshot of Expected Behaviour :</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/G6SKv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6SKv.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Environment:</strong></p>\n\n<p>react-native : 0.61.1</p>\n\n<p>react-native-view-shot : ^3.0.2</p>\n\n<p>react-native-signature-capture : ^0.4.10</p>\n\n<p>react-native-fs : ^2.16.2</p>\n"}, {"tags": ["android", "ios", "iphone", "react-native", "mobile"], "owner": {"reputation": 21, "user_id": 10277186, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9cVM3nqGlC4/AAAAAAAAAAI/AAAAAAAAABs/0ZfdMRjSQa8/photo.jpg?sz=128", "display_name": "Alejandro Quiroz", "link": "https://stackoverflow.com/users/10277186/alejandro-quiroz"}, "is_answered": true, "view_count": 61, "answer_count": 5, "score": 2, "last_activity_date": 1576570913, "creation_date": 1576173294, "last_edit_date": 1576177023, "question_id": 59310296, "link": "https://stackoverflow.com/questions/59310296/how-can-i-create-new-react-native-app-using-npx", "title": "How can i create new react native App using npx?", "body": "<p>I didn't use react-native for a few months. It looks like some things have changed meanwhile. In the official documentation they recommend to uninstall <code>react-native-cli</code> and to use<code>npx react-native init</code> instead. I did this but ended up with an error because I didn't install that package globally. However, if I install <code>react-native</code> globally, it results in an error when I run the project, saying that I should remove the global package.</p>\n\n<p>What is the proper way to create a react app nowadays?</p>\n"}, {"tags": ["android", "embedded-linux", "android-source"], "owner": {"reputation": 131, "user_id": 7734410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgQxc.png?s=128&g=1", "display_name": "Billel Bmsd", "link": "https://stackoverflow.com/users/7734410/billel-bmsd"}, "is_answered": true, "view_count": 32, "accepted_answer_id": 59389988, "answer_count": 2, "score": 2, "last_activity_date": 1576666896, "creation_date": 1576664463, "question_id": 59389865, "link": "https://stackoverflow.com/questions/59389865/how-to-run-system-android-app-on-system-user", "title": "How to run System Android App on system user", "body": "<p>I am Working on Android System app, that means I signed it with the platform key and I pushed it into \"<strong>/system/priv-app</strong>\", but when I check it with \"<strong>adb shell ps</strong>\" I found the user is \"<strong>u0_a40\"</strong> not \"<strong>system</strong>\"</p>\n\n<p>Who can explain me what happen and what can I do to run the app with the system user?</p>\n"}, {"tags": ["java", "android", "sqlite", "listview"], "owner": {"reputation": 35, "user_id": 12483557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TLHlybET6V4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6L1w46jzL5nrx9XH5biSXbIgUtg/photo.jpg?sz=128", "display_name": "thomaspane", "link": "https://stackoverflow.com/users/12483557/thomaspane"}, "is_answered": true, "view_count": 47, "accepted_answer_id": 59385367, "answer_count": 2, "score": 2, "last_activity_date": 1576642776, "creation_date": 1576618322, "question_id": 59382405, "link": "https://stackoverflow.com/questions/59382405/android-listview-not-loading-values-from-sqlite", "title": "Android ListView not loading values from SQLite", "body": "<p>I am trying to load values from a database into a listview, but the listview doesn't seem to be showing the data. I first have a comment class which is in charge of getters and setters for the columns in the db.</p>\n\n<pre><code>package com.example.sqlite;\n\npublic class Comment {\n    private long id;\n    private String name;\n    private float itemPrice;\n\n    public long getId( ) {\n        return id;\n    }\n\n    public void setId( long id ) {\n        this.id = id;\n    }\n\n    public float getItemPrice() {\n        return itemPrice;\n    }\n    public void setItemPrice(float price) {\n        this.itemPrice = price;\n    }\n\n    public String getName( ) {\n        return name;\n    }\n\n    public void setName( String comment ) {\n        this.name = name;\n    }\n\n    // Will be used by the ArrayAdapter in the ListView.\n    @Override\n    public String toString( ) {\n        return name;\n    }\n}\n</code></pre>\n\n<p>I load the values into the db with a onClick command. The issue seems to be with this line here <code>Comment comment = cursorToComment(cursor);</code> where comment is having null values instead of the values from the db. If I try doing cursor.getString(0-2) then the actual values from the db are being printed to the console. I am not sure what exactly is happening. I don't get any errors either. I have found the source of the problem, I think, but am not sure how to solve it. THe full CommentsDataSource class is listed below so you can have some context to how the list of comments is implemented. </p>\n\n<pre><code>package com.example.sqlite;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\n\npublic class CommentsDataSource {\n\n    // Database fields\n    //Used toe xecute commands on db.\n    private SQLiteDatabase database;\n    //Opening up the mysqlhelper which is in charge of opening up connection and maintaining\n    private MySQLiteHelper dbHelper;\n    //Holds all the values from the database\n    private String[] allColumnsItems = { MySQLiteHelper.id, MySQLiteHelper.ITEMS_COLUMN_NAME,\n            MySQLiteHelper.ITEMS_PRICE };\n\n    //Creating the default constructor\n    public CommentsDataSource(Context context) {\n        //Give context to the class that manages the connection\n        dbHelper = new MySQLiteHelper(context);\n    }\n\n    //Opening up the connction to the db\n    public void open() throws SQLException {\n        //Open the db for reading and writing\n        database = dbHelper.getWritableDatabase(); //getWritableDatabase is what opens the connection\n    }\n\n    //Closing the database\n    public void close() throws SQLException {\n        dbHelper.close();\n    }\n\n    //Creating and commiting comment\n    public Comment createComment(String comment, float price) {\n        //Insert into comments values('')\n        ContentValues values = new ContentValues();\n        //Load the column id and value into ContentValues\n        values.put(MySQLiteHelper.ITEMS_COLUMN_NAME, comment);\n        values.put(MySQLiteHelper.ITEMS_PRICE, price);\n        //Now insert into table\n        long insertID = database.insert(MySQLiteHelper.TABLE_ITEMS, null, values);\n        if(insertID == -1) {\n            System.out.println(\"JSDLFJLSJDFL\");\n        }\n        //Create a cursor to keep track of results. When creating cursors they equal database.query\n        Cursor cursor =  database.query(MySQLiteHelper.TABLE_ITEMS, allColumnsItems, MySQLiteHelper.id + \" = \" + insertID, null, null, null, null);\n        //Move cursor tot he front\n        cursor.moveToFirst();\n        //Return the comment which is added to listview\n        return cursorToComment(cursor);\n    }\n\n\n    public List&lt;Comment&gt; getAllComments() {\n        //Select * from comments\n        List&lt;Comment&gt; comments = new ArrayList&lt;Comment&gt;();\n        //Fetching the results of query into cursor\n        Cursor cursor = database.query(MySQLiteHelper.TABLE_ITEMS, allColumnsItems, null, null, null, null, null);\n        //Move to front of cursor\n        cursor.moveToFirst();\n        //Iterate through cursor\n        while(!cursor.isAfterLast()) {\n            Comment comment = cursorToComment(cursor);\n            //Add results to arraylist\n            System.out.println(comment);\n            comments.add(comment);\n            System.out.println(cursor.getString(2));\n            cursor.moveToNext();\n        }\n        cursor.close();\n        System.out.println(comments);\n        return comments;\n    }\n\n    public Comment cursorToComment(Cursor cursor) {\n        Comment comment = new Comment();\n        comment.setId(cursor.getLong(0));\n        comment.setName(cursor.getString(1));\n        comment.setItemPrice(cursor.getFloat(2));\n        return comment;\n    }\n\n}\n</code></pre>\n\n<p>EDIT: More information about the database. Its named menu and has one table within it called items. THis table has three attributes id, title, price.</p>\n\n<pre><code>package com.example.sqlite;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class MySQLiteHelper extends SQLiteOpenHelper {\n\n    //Creating the items table\n    public  static final String TABLE_ITEMS = \"items\";\n    public static final String id = \"_id\";\n    public  static final String ITEMS_COLUMN_NAME = \"name\";\n    public  static final String ITEMS_PRICE = \"price\";\n\n\n\n    private static final String DATABASE_NAME  = \"menu\";\n    private static final int DATABASE_VERSION  = 1;\n\n    // create table comments(\n    //   _id integer primary key autoincrement,\n    //   comment text not null );\n    private static final String TABLE_CREATE_ITEMS = \"create table \"\n            + TABLE_ITEMS + \"(  \" + id  + \" integer primary key autoincrement, \"\n            +ITEMS_COLUMN_NAME + \" text, \"\n            + ITEMS_PRICE + \" real not null );\";\n\n    public MySQLiteHelper( Context context ) {\n        super( context, DATABASE_NAME, null, DATABASE_VERSION );\n    }\n\n    @Override\n    public void onCreate( SQLiteDatabase database ) {\n        //Create the items table\n        database.execSQL( TABLE_CREATE_ITEMS );\n        //Create the combos table\n        //database.execSQL(TABLE_CREATE_COMBO);\n    }\n    @Override\n    public void onUpgrade( SQLiteDatabase db, int oldVersion, int newVersion ) {\n\n    }\n\n}\n</code></pre>\n"}]}